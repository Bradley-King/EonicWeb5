var obj=null;jQuery.fn.exists=function(){return jQuery(this).length>0};$(document).ready(function(){autoAdjustFloatingColumns();initialiseXforms();initialiseLightBox();initialiseProductSKUs()});function initialiseXforms(){if($("form.ewXform").exists()){$("form.ewXform").prepareXform()}}function initialiseLightBox(){$("a.lightbox").lightBox()}function initialisecoverFlow(){if($(".ImageCoverFlow").exists()){$("head").append('<script type="text/javascript" src="/ewcommon/js/imageflow/imageflow.js"><\/script>')}}function initialiseProductSKUs(){$(".skuOptions").live("change",function(){obj=this;var c=obj.value.split("_");var d=c[0];var b=c[1];var f=c[2];var d="qty_"+d;var e="#price_"+c[3];var g="#picture_"+c[0];if(d!=""){$(".qtybox").attr("name",d).attr("id",d)}if(b!=""){$("#productRRP").html(b)}if(f!=""){$("#productPrice").html(f)}if($(".product .picture").length>1){$(".product .picture").addClass("hidden");$(g).parents("span.picture").removeClass("hidden")}})}function initialiseGoogleAdverts(){if($(".googleadvert").exists()){var b=new Array();$(".googleadvert .adcontainer").each(function(){b.push($(this).attr("title"))});var c=getGoogleAdScript(b)}}function getGoogleAdScript(b){}$.fn.prepareEditable=function(){$(".editable").hover(function(){if(obj){obj.find(".inlinePopupOptions").hide("fast");obj=null}$(this).find(".inlinePopupOptions").show("fast")},function(){obj=$(this);setTimeout("editableCheckHover()",400)})};function editableCheckHover(){if(obj){obj.find(".inlinePopupOptions").hide("fast")}}$(function(){$("a[rel*=external]").click(function(){window.open(this.href);return false})});$.fn.prepareXform=function(){$("textarea.xhtml").tinymce({script_url:"/ewcommon/js/tinymce/tiny_mce.js",theme:"advanced",mode:"exact",width:"625",relative_urls:false,plugins:"table,contextmenu,paste,iespell,media,visualchars,searchreplace,xhtmlxtras,safari",entity_enconding:"numeric",convert_fonts_to_spans:true,gecko_spellcheck:true,theme_advanced_buttons1:"cut, copy, paste,pastetext,pasteword,selectall,search, replace, separator,undo,redo,separator,removeformat,cleanup,separator,formatselect,separator,bold, italic, underline,strikethrough,separator,justifyleft, justifycenter, justifyright, justifyfull,",theme_advanced_buttons2:"tablecontrols,separator,bullist, numlist, outdent, indent,hr,separator,link, unlink, image, media, visualchars, separator,code,help",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",paste_create_paragraphs:false,paste_use_dialog:true,auto_cleanup_word:"true",valid_elements:"a[href|target|title|style|class|onmouseover|onmouseout|onclick],img[class|src|border=0|alt|title|hspace|vspace|width|height|align|onmouseover|onmouseout|name|style],table[cellspacing|cellpadding|border|height|width|style|class],p[align|style|class],span[class],form[action|method|name|style|class],object[*],param[*],embed[*],input[type|value|name|style|class|src|alt|border|size],textarea[type|value|name|style|class|src|alt|border|size|cols|rows],td/th[colspan|rowspan|align|valign|style|class],h1[style|class],h2[style|class],h3[style|class],h4[style|class],h5[style|class],h6[style|class],ol[style|class],ul[style|class],li[style|class],div[align|style|class],span[style|class],thead[style|class],tbody[style|class],tr[class],dd[style|class],dl[style|class],dt[style|class],sup,sub,pre,address,strong,b,em,i,u,s,hr,blockquote,br"});$("textarea.minxhtml").tinymce({script_url:"/ewcommon/js/tinymce/tiny_mce.js",theme:"advanced",mode:"exact",width:$(this).css("width"),relative_urls:false,plugins:"contextmenu,paste,iespell,visualchars,xhtmlxtras,safari",entity_enconding:"numeric",convert_fonts_to_spans:true,gecko_spellcheck:true,theme_advanced_buttons1:"bold,italic,underline,bullist,numlist,",theme_advanced_buttons2:"",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",paste_create_paragraphs:false,paste_use_dialog:true,auto_cleanup_word:"true",valid_elements:"a[href|target|title|style|class|onmouseover|onmouseout|onclick],p[align|style|class],span[class],h2[style|class],h3[style|class],h4[style|class],h5[style|class],h6[style|class],ol[style|class],ul[style|class],li[style|class],div[align|style|class],span[style|class],dd[style|class],dl[style|class],dt[style|class],sup,sub,pre,address,strong,b,em,i,u,s,hr,blockquote,br"});if($("input.jqDatePicker").exists()){$.datepicker.setDefaults($.datepicker.regional[""]);$("input.jqDatePicker").each(function(b){$(this).datepicker({closeAtTop:false,closeText:"Close Calendar",clearText:"Clear Date",showOn:"both",buttonImage:"/ewcommon/images/icons/calendar.gif",buttonImageOnly:true,dateFormat:"d M yy",altField:"#"+$(this).attr("id").replace("-alt",""),altFormat:"yy-mm-dd",mandatory:$(this).hasClass("required")})})}$("div.slider").each(function(b){$(this).slider({range:"min",value:parseInt($(this).children("span.val").text()),min:parseInt($(this).children("span.min").text()),max:parseInt($(this).children("span.max").text()),step:parseInt($(this).children("span.step").text()),slide:function(c,d){$("#"+$(this).children("span.ref").text()).val(d.value)}})});$("input.colorPicker").gccolor()};function showDependant(c,b){$("."+b).addClass("hidden");$("."+b).find(".required").each(function(){$(this).removeClass("required");$(this).addClass("reqinactive")});$("."+b).find(":input").not(":submit").each(function(){var e=$(this).attr("name");var d=e+"~inactive";$(this).attr("name",d)});$("#"+c).removeClass("hidden");$("#"+c).find(".reqinactive").each(function(){$(this).removeClass("reqinactive");$(this).addClass("required")});$("#"+c).find(":input").not(":submit").each(function(){var e=$(this).attr("name");var d=e.replace(/~inactive/gi,"");$(this).attr("name",d);$(this).attr("id",d)})}function psuedoRadioButtonControl(c,b,d){$("input[id^='"+c+"']").click(function(){$("input[id^='"+c+"']").attr("checked","");$(this).attr("checked","checked");if($(this).val()==d){$("input[name='"+b+"'][type='hidden']").val(d);var f=$(this).attr("name");var e=f+"~inactive";$(this).attr("name",e)}else{$("input[name='"+b+"'][type='hidden']").val("");var f=$("input[name^='"+b+"']").attr("name");var e=f.replace(/~inactive/gi,"");$("input[name^='"+b+"']").attr("name",e)}})}function autoAdjustFloatingColumns(){$(".cols2").each(function(){matchHeightCol($(this).find(".listItem"),"2")});$(".cols3").each(function(){matchHeightCol($(this).find(".listItem"),"3")});$(".cols4").each(function(){matchHeightCol($(this).find(".listItem"),"4")});$(".cols5").each(function(){matchHeightCol($(this).find(".listItem"),"5")})}function matchHeightCol(c,f){var b=0;var g=1;var e=c.length;var d=0;c.each(function(){d++;$(this).addClass("row"+b);if(g==f){matchHeight($(this).parent("div[class^='cols']").find(".row"+b));b++;g=1}else{$(this).addClass("rowMargin");g++;if(e==d){matchHeight($(this).parent("div[class^='cols']").find(".row"+b))}}})}function matchHeight(c){var b=0;c.each(function(){thisHeight=$(this).height();if(thisHeight>b){b=thisHeight}});c.each(function(){if(b>0){$(this).css({height:b})}else{$(this).css({height:"auto"})}})}var lockmenu=0;var menuNode;function OpenWindow(d,b,c){featureStr=c;opener=window.open(d,b,featureStr);opener.focus()}function getChildUL(b){for(i=0;i<b.childNodes.length;i++){child=b.childNodes[i];if(child.className!=null){if(child.className.indexOf("inlinePopupLabel")>=0){for(j=0;j<child.childNodes.length;j++){if(child.childNodes[j].nodeName=="UL"){return child.childNodes[j];break}}}}}}function divSwitch(d,b){parentContainer=document.getElementById(d);children=parentContainer.getElementsByTagName("div");b=document.getElementById(b);for(var c=0;c<children.length;c++){if(children[c].id!="imageDescription"){children[c].style.display="none"}}b.style.display="block"}function gallerySwitch(f,g,d,b,h){var c=document.images.pic;var e=document.getElementById("imgCaption");c.src=g;c.width=d;c.height=b}function getAppVersion(){appname=navigator.appName;appversion=navigator.appVersion;majorver=appversion.substring(0,1);if((appname=="Netscape")&&(majorver>=3)){return 1}if((appname=="Microsoft Internet Explorer")&&(majorver>=4)){return 1}return 0}function setHome(b,c){if(navigator.appVersion.charAt(navigator.appVersion.indexOf("MSIE")+5)>=5&&navigator.platform.indexOf("Win16")==-1&&navigator.platform.indexOf("Mac")==-1){b.style.behavior="url(#default#homepage)";b.setHomePage(c);b.href="#";return true}else{return false}}function makedate(b,c){var d;if("undefined"==typeof(document.forms[b].elements["day_"+c])){d="01"}else{d=document.forms[b].elements["day_"+c].value}document.forms[b].elements[c].value=d+" "+document.forms[b].elements["month_"+c].value+" "+document.forms[b].elements["year_"+c].value}function loaddate(b,c){dateStr=document.forms[b].elements[c].value;dateArr=dateStr.split(" ",4);document.forms[b].elements["day_"+c].value=dateArr[0];document.forms[b].elements["month_"+c].value=dateArr[1];document.forms[b].elements["year_"+c].value=dateArr[2]}function makeXmlDate(b,c){var d=document.forms[b];var e;if("undefined"==typeof(d.elements["day_"+c])){e="01"}else{e=d.elements["day_"+c].value}d.elements[c].value=d.elements["year_"+c].value+"-"+d.elements["month_"+c].value+"-"+e}function loadXmlDate(b,c){var d=document.forms[b];dateStr=d.elements[c].value;dateArr=dateStr.split("-",4);d.elements["day_"+c].value=dateArr[2].substr(0,2);d.elements["month_"+c].value=dateArr[1];d.elements["year_"+c].value=dateArr[0]}function makedatemmyy(b,c){document.forms[b].elements[c].value=document.forms[b].elements["month_"+c].value+" "+document.forms[b].elements["year_"+c].value}function loaddatemmyy(b,c){dateStr=document.forms[b].elements[c].value;dateArr=dateStr.split(" ",4);document.forms[b].elements["month_"+c].value=dateArr[0];document.forms[b].elements["year_"+c].value=dateArr[1]}function ListItem(c,b){this.nvalue=c;this.description=b}function ListSubItem(c,d,b){this.category=c;this.nvalue=d;this.description=b}function setEditableDropdown(c,b,e){var d;d=document.forms[b].elements[e].options.length-1;document.forms[b].elements[e].options[d].selected=true;document.forms[b].elements[e][document.forms[b].elements[e].selectedIndex].value=c.value}function checkShippingLocationsForm(b){toggleShipLocList(b.parentNode,b.checked,true)}function toggleShipLocList(f,k,g){var b,l,e,d,c,h;b=f.childNodes;h=false;for(d=0;d<b.length;d++){l=b.item(d);if(l.nodeName=="SPAN"&&!g){(k)?l.className="locationName locationDisabled":l.className="locationName"}if(l.type=="checkbox"&&!g){l.disabled=k;h=l.checked}if(l.nodeName=="UL"){e=l.childNodes;for(c=0;c<e.length;c++){toggleShipLocList(e.item(c),(k||h),false)}}}}function setupShipLocUL(b){var d,c;d=b.childNodes;for(i=0;i<d.length;i++){c=d.item(i);if(c.nodeName=="LI"){setupShipLocList(c,false)}}}function setupShipLocList(h,k){var g,e,b,d,c,f;g=h.childNodes;f=k;for(d=0;d<g.length;d++){e=g.item(d);if(e.nodeName=="SPAN"){(k)?e.className="locationName locationDisabled":e.className="locationName"}if(e.type=="checkbox"){e.disabled=k;if(!f){f=e.checked}}if(e.nodeName=="UL"){b=e.childNodes;for(c=0;c<b.length;c++){setupShipLocList(b.item(c),f)}}}}function validate(b){emailAdd=b.sEmail.value.indexOf("@");submitOK="True";if(b.sCompany.value==""){alert("Please enter your Company");submitOK="False"}if(emailAdd==-1){alert("Please enter a valid e-mail address");submitOK="False"}if(submitOK=="False"){return false}}function formReset(b){b.reset()}function form_check_old(b){return true}var disableButtonMessage="Please wait...";function disableButton(d,g){var f,c;var e=d.form;if(g){disableButtonMessage=g}var b=document.createElement("input");b.type="hidden";b.id="ewSubmitClone_"+d.id;b.name="ewSubmitClone_"+d.name;b.value=d.value;e.appendChild(b)}function form_disable_button(c,b,d){for(i=0;i<c.length;i++){oElem=c.elements[i];if(oElem.id==b&&oElem.name==d){oElem.id+="_old";oElem.name+="_old";oElem.value=disableButtonMessage}}}function form_check(m){var p,e,o,n,c,h,f,g,k,l;var b=new Array();var d=false;o=true;for(e=0;e<m.length;e++){p=m.elements[e];switch(p.type){case"text":g=1;break;case"textarea":g=1;break;case"checkbox":g=3;break;case"radio":g=3;break;case"select-one":g=2;break;case"select-multiple":g=2;break;default:g=0;break}if(p.className.toLowerCase().indexOf("required")>=0){switch(g){case 1:if(form_check_value(p.value)){form_alert("required",p);o=false}break;case 2:if(p.selectedIndex<0){form_alert("required",p);o=false}else{if(form_check_value(p.options[p.selectedIndex].text)){form_alert("required",p);o=false}}break;case 3:n=","+b.join(",")+",";c=","+p.name+",";if(n.indexOf(c)<0){b.push(p.name);h=document.getElementsByName(p.name);f=false;if(h.length>1){for(e=0;e<h.length;e++){if(h[e].checked){f=true;break}}}if(!f&&h.length>1){form_alert("required",p);o=false}}break}if(!o){break}}}if(o){for(e=0;e<m.length;e++){p=m.elements[e];if(p.type=="text"||p.type=="textarea"){if(form_check_value(p.value)){p.value=""}}}}if(o){for(e=0;e<m.length;e++){p=m.elements[e];if(p.type=="hidden"&&p.id.indexOf("ewSubmitClone_")==0){k=p.id.replace(/ewSubmitClone_/,"");l=p.name.replace(/ewSubmitClone_/,"");form_disable_button(m,k,l);p.id=k;p.name=l;d=true}}if(d){for(e=0;e<m.length;e++){p=m.elements[e];if(p.type=="submit"||p.type=="button"){p.disabled=true}}}}return o}function form_alert(d,c){var b;b=form_get_label(c);switch(d){case"required":if(b==""){alert("You must complete all the required information")}else{alert("You have not any information in the field : "+b)}c.focus();break}}function form_get_label(e){var b,c,d;b="";c=document.getElementsByTagName("label");for(d=0;d<c.length;d++){if(c[d].htmlFor==e.name){b=c[d].firstChild.nodeValue;break}}return b}function form_check_value(c){var d=new Array("please enter","[please enter","[select ","please select","[please select","por favor preencha o","Svp complet");var e,b;e=false;c=c.toString();c=c.toLowerCase();for(b=0;b<d.length;b++){if(c.substr(0,d[b].length).toLowerCase()==d[b].toLowerCase()||c==""){e=true}}return e}function form_batch_checkbox(d,e){var c,b;a=0;for(b=0;b<d.length;b++){c=d.elements[b];if(c.type=="checkbox"){c.checked=e}}}function pollCheck(b){var c;c=false;for(i=0;i<b.length;i++){if(b.elements[i].type=="radio"&&b.elements[i].checked){c=true}}if(!c){alert("You have not selected anything to vote for!")}return c}function getLeft(c){var b=c.offsetLeft;while((c=c.offsetParent)!=null){b+=c.offsetLeft}return b}function getTop(c){var b=c.offsetTop;while((c=c.offsetParent)!=null){b+=c.offsetTop}return b}function getRight(c){var b=c.offsetRight;while((c=c.offsetParent)!=null){b+=c.offsetRight}return b}function getBottom(c){var b=c.offsetBottom;while((c=c.offsetParent)!=null){b+=c.offsetBottom}return b}function getWidth(c){var b=c.offsetWidth;return b}function getScrollTop(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function getScrollLeft(){return document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft}function getVisHeight(){return document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight}function getVisWidth(){return document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth}function hideAndShow(c,b){if(b=1){document.getElementById(c).style.display="block"}if(b=0){document.getElementById(c).style.display="none"}}function Hashtable(){this.clear=hashtable_clear;this.containsKey=hashtable_containsKey;this.containsValue=hashtable_containsValue;this.get=hashtable_get;this.isEmpty=hashtable_isEmpty;this.keys=hashtable_keys;this.put=hashtable_put;this.remove=hashtable_remove;this.size=hashtable_size;this.toString=hashtable_toString;this.values=hashtable_values;this.hashtable=new Array()}function hashtable_clear(){this.hashtable=new Array()}function hashtable_containsKey(c){var d=false;for(var b in this.hashtable){if(b==c&&this.hashtable[b]!=null){d=true;break}}return d}function hashtable_containsValue(d){var c=false;if(d!=null){for(var b in this.hashtable){if(this.hashtable[b]==d){c=true;break}}}return c}function hashtable_get(b){return this.hashtable[b]}function hashtable_isEmpty(){return(parseInt(this.size())==0)?true:false}function hashtable_keys(){var c=new Array();for(var b in this.hashtable){if(this.hashtable[b]!=null){c.push(b)}}return c}function hashtable_put(b,c){if(b==null||c==null){throw"NullPointerException {"+b+"},{"+c+"}"}else{this.hashtable[b]=c}}function hashtable_remove(b){var c=this.hashtable[b];this.hashtable[b]=null;return c}function hashtable_size(){var c=0;for(var b in this.hashtable){if(this.hashtable[b]!=null){c++}}return c}function hashtable_toString(){var b="";for(var c in this.hashtable){if(this.hashtable[c]!=null){b+="{"+c+"},{"+this.hashtable[c]+"}\n"}}return b}function hashtable_values(){var b=new Array();for(var c in this.hashtable){if(this.hashtable[c]!=null){b.push(this.hashtable[c])}}return b}var _priceHash=new Hashtable();function updatePrice(b,d,c){nPrice=(document.getElementById(b).innerHTML*1);if(_priceHash.containsKey(d)==true){nPrice=nPrice-_priceHash.get(d);_priceHash.put(d,c)}else{_priceHash.put(d,c)}document.getElementById(b).innerHTML=formatAsMoney(nPrice+(c*1))}function updatePriceCbox(c,e,d,b){if(b.checked){updatePrice(c,e,d)}else{nPrice=(document.getElementById(c).innerHTML*1);nPrice=nPrice-d;_priceHash.remove(e);document.getElementById(c).innerHTML=formatAsMoney(nPrice)}}function formatAsMoney(b){b-=0;b=(Math.round(b*100))/100;return(b==Math.floor(b))?b+".00":((b*10==Math.floor(b*10))?b+"0":b)}function updateSelectPrice(f,b,e,d){var c=f.selectedIndex;updatePrice(b,e,d[c])}function incrementQuantity(c,b){if(b=="+"){document.getElementById(c).value=(document.getElementById(c).value*1)+1}else{if(document.getElementById(c).value>0){document.getElementById(c).value=(document.getElementById(c).value*1)-1}}}function PadDigits(d,b){d=d.toString();var c="";if(b>d.length){for(i=0;i<(b-d.length);i++){c+="0"}}return c+d.toString()}function checkAll(b){for(i=0;i<b.length;i++){b[i].checked=true}}function uncheckAll(b){for(i=0;i<b.length;i++){b[i].checked=false}}(function(f){var l,g=[];function h(d,e,b){var c;c=f.fn[e];f.fn[e]=function(){var m;if(d!=="after"){m=b.apply(this,arguments);if(m!==undefined){return m}}m=c.apply(this,arguments);if(d!=="before"){b.apply(this,arguments)}return m}}f.fn.tinymce=function(d){var e=this,m,c="",n;if(!e.length){return}if(!d){return tinyMCE.get(this[0].id)}function b(){if(k){k();k=null}e.each(function(q,s){var r,t=s.id||tinymce.DOM.uniqueId();s.id=t;r=new tinymce.Editor(t,d);r.render()})}if(!window.tinymce&&!l&&(m=d.script_url)){l=1;if(/_(src|dev)\.js/g.test(m)){c="_src"}window.tinyMCEPreInit={base:m.substring(0,m.lastIndexOf("/")),suffix:c,query:""};f.getScript(m,function(){tinymce.dom.Event.domLoaded=1;l=2;b();f.each(g,function(p,o){o()})})}else{if(l===1){g.push(b)}else{b()}}};f.extend(f.expr[":"],{tinymce:function(b){return b.id&&!!tinyMCE.get(b.id)}});function k(){function c(){this.find("span.mceEditor,div.mceEditor").each(function(e,d){var m;if(m=tinyMCE.get(d.id.replace(/_parent$/,""))){m.remove()}})}function b(d){var e;if(d!==undefined){c.call(this);this.each(function(n,m){var o;if(o=tinyMCE.get(m.id)){o.setContent(d)}})}else{if(this.length>0){if(e=tinyMCE.get(this[0].id)){return e.getContent()}}}}h("both","text",function(d){if(d!==undefined){return b.call(this,d)}if(this.length>0){if(ed=tinyMCE.get(this[0].id)){return ed.getContent().replace(/<[^>]+>/g,"")}}});f.each(["val","html"],function(d,e){h("both",e,b)});f.each(["append","prepend"],function(d,e){h("before",e,function(m){if(m!==undefined){this.each(function(o,n){var p;if(p=tinyMCE.get(n.id)){if(e==="append"){p.setContent(p.getContent()+m)}else{p.setContent(m+p.getContent())}}})}})});h("both","attr",function(e,d){if(e&&e==="value"){return b.call(this,d)}});f.each(["remove","replaceWith","replaceAll","empty"],function(d,e){h("before",e,c)})}})(jQuery);(function(c){var b=function(){var l={onOpen:function(){},onClose:function(){},onChange:function(){},useButton:true,defaultColor:"#FF0000"},B=(typeof c.ui=="undefined"?false:true),q='<div id="gccolor-dialog" style="display: none;"><div id="gccolor-color"><div><div></div></div></div><div id="gccolor-hue"><div></div></div><div id="gccolor-new-color"></div><div id="gccolor-current-color"></div><div id="gccolor-hex"><input type="text" maxlength="6" size="6" /></div><div id="gccolor-rgb-r" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-rgb-g" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-rgb-b" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-hsb-h" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-hsb-s" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-hsb-b" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-submit"></div></div>',e=function(D){c(document).data("gccolor").dragItem={lastX:D.pageX,lastY:D.pageY};h(D);c(document).bind("mousemove",h);c(document).bind("mouseup",C)},h=function(E){var D=c("#gccolor-hue");var F=E.pageY-D.offset().top;if(F<0){F=0}else{if(F>150){F=150}}c(document).data("gccolor").hsb.h=359-Math.round((F/150)*359);if(!c.browser.msie){u(c(document).data("gccolor").hsb)}else{c("#gccolor-hue div").css("top",F+"px")}x();return false},C=function(D){c(document).unbind("mousemove",h);c(document).unbind("mouseup",C);c(document).data("gccolor").dragItem=null;if(c.browser.msie){u(c(document).data("gccolor").hsb)}},n=function(D){c(document).data("gccolor").dragItem={lastX:D.pageX,lastY:D.pageY};g(D);c(document).bind("mousemove",g);c(document).bind("mouseup",s)},g=function(F){var E=c("#gccolor-color > div");var D=F.pageX-E.offset().left;var G=F.pageY-E.offset().top;if(D<0){D=0}else{if(D>150){D=150}}if(G<0){G=0}else{if(G>150){G=150}}c(document).data("gccolor").hsb.s=Math.round((D/150)*100);c(document).data("gccolor").hsb.b=100-Math.round((G/150)*100);if(!c.browser.msie){u(c(document).data("gccolor").hsb)}else{c("#gccolor-color > div div").css("top",G+"px");c("#gccolor-color > div div").css("left",D+"px")}x();return false},s=function(D){c(document).unbind("mousemove",g);c(document).unbind("mouseup",s);c(document).data("gccolor").dragItem=null;if(c.browser.msie){u(c(document).data("gccolor").hsb)}},f=function(D){c(document).data("gccolor").dragItem={item:c(this),lastX:D.pageX,lastY:D.pageY};c(document).bind("mousemove",A);c(document).bind("mouseup",y)},A=function(I){var H=c(document).data("gccolor").dragItem.item;var G=H.parent().attr("id");var D=I.pageY-c(document).data("gccolor").dragItem.lastY;var J=parseInt(H.prev().val());var F=J;if(D<0){F=J+1}else{if(D>0){F=J-1}}if(G=="gccolor-hsb-h"){if(F>359){F=0}else{if(F<=0){F=359}}}else{if(G=="gccolor-hsb-s"||G=="gccolor-hsb-b"){if(F>100){F=100}else{if(F<=0){F=0}}}else{if(F>255){F=255}else{if(F<=0){F=0}}}}var E=z(c(document).data("gccolor").hsb);switch(G){case"gccolor-hsb-h":c(document).data("gccolor").hsb.h=F;break;case"gccolor-hsb-s":c(document).data("gccolor").hsb.s=F;break;case"gccolor-hsb-b":c(document).data("gccolor").hsb.b=F;break;case"gccolor-rgb-r":E.r=F;c(document).data("gccolor").hsb=t(E);break;case"gccolor-rgb-g":E.g=F;c(document).data("gccolor").hsb=t(E);break;case"gccolor-rgb-b":E.b=F;c(document).data("gccolor").hsb=t(E);break}if(!c.browser.msie){u(c(document).data("gccolor").hsb)}x();H.prev().val(F);c(document).data("gccolor").dragItem.lastY=I.pageY},y=function(D){c(document).unbind("mousemove",A);c(document).unbind("mouseup",y);c(document).data("gccolor").dragItem=null;if(c.browser.msie){u(c(document).data("gccolor").hsb)}},d=function(D){var D=parseInt(((D.indexOf("#")>-1)?D.substring(1):D),16);return{r:D>>16,g:(D&65280)>>8,b:(D&255)}},z=function(E){var D=Math.ceil(E.b*2.55);if(E.b==0){return{r:0,g:0,b:0}}else{if(E.s==0){return{r:D,g:D,b:D}}}var G=Math.floor(E.h/60);var I=E.h/60-G;var J=Math.round(E.b*(100-E.s)*0.0255);var H=Math.round(E.b*(100-I*E.s)*0.0255);var F=Math.round(E.b*(100-(1-I)*E.s)*0.0255);switch(G){case 0:return{r:D,g:F,b:J};break;case 1:return{r:H,g:D,b:J};break;case 2:return{r:J,g:D,b:F};break;case 3:return{r:J,g:H,b:D};break;case 4:return{r:F,g:J,b:D};break;case 5:return{r:D,g:J,b:H};break}return{r:0,g:0,b:0}},t=function(E){var D={};D.b=Math.max(Math.max(E.r,E.g),E.b);D.s=(D.b<=0)?0:Math.round(100*(D.b-Math.min(Math.min(E.r,E.g),E.b))/D.b);D.b=Math.round((D.b/255)*100);if((E.r==E.g)&&(E.g==E.b)){D.h=0}else{if(E.r>=E.g&&E.g>=E.b){D.h=60*(E.g-E.b)/(E.r-E.b)}else{if(E.g>=E.r&&E.r>=E.b){D.h=60+60*(E.g-E.r)/(E.g-E.b)}else{if(E.g>=E.b&&E.b>=E.r){D.h=120+60*(E.b-E.r)/(E.g-E.r)}else{if(E.b>=E.g&&E.g>=E.r){D.h=180+60*(E.b-E.g)/(E.b-E.r)}else{if(E.b>=E.r&&E.r>=E.g){D.h=240+60*(E.r-E.g)/(E.b-E.g)}else{if(E.r>=E.b&&E.b>=E.g){D.h=300+60*(E.r-E.b)/(E.r-E.g)}else{D.h=0}}}}}}}D.h=Math.round(D.h);return D},m=function(D){var E=[D.r.toString(16),D.g.toString(16),D.b.toString(16)];c.each(E,function(F,G){if(G.length==1){E[F]="0"+G}});return E.join("")},r=function(D,F,G){c("#gccolor-hsb-h input").val(D.h);c("#gccolor-hsb-s input").val(D.s);c("#gccolor-hsb-b input").val(D.b);c("#gccolor-rgb-r input").val(F.r);c("#gccolor-rgb-g input").val(F.g);c("#gccolor-rgb-b input").val(F.b);c("#gccolor-hex input").val(G);c("#gccolor-new-color").css("background-color","#"+G);var E=m(z({h:D.h,s:100,b:100}));c("#gccolor-color").css("background-color","#"+E);c("#gccolor-color > div div").css("top",(((100-D.b)/100)*150)+"px");c("#gccolor-color > div div").css("left",((D.s/100)*150)+"px");c("#gccolor-hue div").css("top",(150-((D.h/359)*150))+"px")},u=function(D){c(document).data("gccolor").hsb=D;var E=z(D);var F=m(E);r(D,E,F)},k=function(E){var F=m(E);var D=t(E);c(document).data("gccolor").hsb=D;r(D,E,F)},o=function(F){var E=d(F);var D=t(E);c(document).data("gccolor").hsb=D;r(D,E,F)},p=function(E){if(E.keyCode==27){c("#gccolor-dialog").hide();var D=c(document).data("gccolor");v(D.target,D.options,true)}},w=function(F,D){c(document).data("gccolor",{target:F,options:D,hsb:{h:0,s:100,b:100},dragItem:null});if(typeof D.onOpen=="function"){D.onOpen(F)}var E=c(F).val().replace("#","").toUpperCase();if(E.length<=0){E=D.defaultColor}o(E);c("#gccolor-current-color").css("background-color","#"+E);c("#gccolor-submit").click(function(){v(c(document).data("gccolor").target,D,false)});c("#gccolor-dialog").css("top",c(F).offset().top+c(F).outerHeight());c("#gccolor-dialog").css("left",c(F).offset().left);c("#gccolor-dialog").show("slide",{direction:"up"},1000);c(document).keyup(p)},x=function(){if(typeof c(document).data("gccolor").options.onChange=="function"){c(document).data("gccolor").options.onChange(c(document).data("gccolor").target,m(z(c(document).data("gccolor").hsb)))}},v=function(F,D,E){c(document).unbind("keyup",p);if(typeof D.onClose=="function"){D.onClose(F,c("#gccolor-hex input").val(),E)}if(!E){c(F).val("#"+c("#gccolor-hex input").val())}c("#gccolor-dialog").hide();c("#gccolor-dialog").dialog("destroy")};return{init:function(D){D=c.extend({},l,D||{});if(B){if(!c("#gccolor-dialog").is("div")){c("body").append(q)}}else{alert("Sorry, jQuery UI plug-in is required for GcColor to work!")}c("#gccolor-dialog span").bind("mousedown",f);c("#gccolor-hue").bind("mousedown",e);c("#gccolor-color > div").bind("mousedown",n);return this.each(function(){if(D.useButton){c(this).wrap('<span class="gccolor-wrapper"></span>');c(this).after('<a href="Javascript:;" class="gccolor-button">Pick a color!</a>');var E=c(this).next();c(this).width(c(this).width()-22);c(this).css("margin-right","24px");E.css("left",(c(this).position().left+c(this).outerWidth(true)-22)+"px");E.click(function(){w(c(this).prev(),D)})}else{c(this).click(function(){w(c(this),D)})}})}}}();c.fn.extend({gccolor:b.init})})(jQuery);if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(r,d,s,f,m,o,k,g,e,p,n){if(!document.getElementById){return}this.DETECT_KEY=n?n:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(r){this.setAttribute("swf",r)}if(d){this.setAttribute("id",d)}if(s){this.setAttribute("width",s)}if(f){this.setAttribute("height",f)}if(m){this.setAttribute("version",new deconcept.PlayerVersion(m.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(o){this.addParam("bgcolor",o)}var b=g?g:"high";this.addParam("quality",b);this.setAttribute("useExpressInstall",k);this.setAttribute("doExpressInstall",false);var l=(e)?e:window.location;this.setAttribute("xiRedirectUrl",l);this.setAttribute("redirectUrl","");if(p){this.setAttribute("redirectUrl",p)}};deconcept.SWFObject.prototype={setAttribute:function(b,c){this.attributes[b]=c},getAttribute:function(b){return this.attributes[b]},addParam:function(c,b){this.params[c]=b},getParams:function(){return this.params},addVariable:function(c,b){this.variables[c]=b},getVariable:function(b){return this.variables[b]},getVariables:function(){return this.variables},getVariablePairs:function(){var d=new Array();var c;var b=this.getVariables();for(c in b){d.push(c+"="+b[c])}return d},getSWFHTML:function(){var c="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn")}c='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"';c+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var g=this.getParams();for(var f in g){c+=[f]+'="'+g[f]+'" '}var e=this.getVariablePairs().join("&");if(e.length>0){c+='flashvars="'+e+'"'}c+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX")}c='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">';c+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var d=this.getParams();for(var f in d){c+='<param name="'+f+'" value="'+d[f]+'" />'}var b=this.getVariablePairs().join("&");if(b.length>0){c+='<param name="flashvars" value="'+b+'" />'}c+="</object>"}return c},write:function(c){if(this.getAttribute("useExpressInstall")){var b=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var d=(typeof c=="string")?document.getElementById(c):c;d.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];if(b&&b.description){f=new deconcept.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);c.AllowScriptAccess="always"}catch(d){if(f.major==6){return f}}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}if(c!=null){f=new deconcept.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(","))}}return f};deconcept.PlayerVersion=function(b){this.major=b[0]!=null?parseInt(b[0]):0;this.minor=b[1]!=null?parseInt(b[1]):0;this.rev=b[2]!=null?parseInt(b[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false}if(this.major>b.major){return true}if(this.minor<b.minor){return false}if(this.minor>b.minor){return true}if(this.rev<b.rev){return false}return true};deconcept.util={getRequestParameter:function(b){var e=document.location.search||document.location.hash;if(e){var d=e.substring(1).split("&");for(var c=0;c<d.length;c++){if(d[c].substring(0,d[c].indexOf("="))==b){return d[c].substring((d[c].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){if(window.opera||!document.all){return}var d=document.getElementsByTagName("OBJECT");for(var c=0;c<d.length;c++){d[c].style.display="none";for(var b in d[c]){if(typeof d[c][b]=="function"){d[c][b]=function(){}}}}};deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};if(typeof window.onunload=="function"){var b=window.onunload;window.onunload=function(){deconcept.SWFObjectUtil.cleanupSWFs();b()}}else{window.onunload=deconcept.SWFObjectUtil.cleanupSWFs}};if(typeof window.onbeforeunload=="function"){var oldBeforeUnload=window.onbeforeunload;window.onbeforeunload=function(){deconcept.SWFObjectUtil.prepUnload();oldBeforeUnload()}}else{window.onbeforeunload=deconcept.SWFObjectUtil.prepUnload}if(Array.prototype.push==null){Array.prototype.push=function(b){this[this.length]=b;return this.length}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;